# MCS Listener Service 环境变量配置示例
# 复制此文件为 .env 并填写实际配置值

# ============================================
# 应用配置
# ============================================
APP_ENV=dev
LOG_LEVEL=INFO

# ============================================
# 监听器配置
# ============================================
# 启用的监听器（逗号分隔：email,wechat）
ENABLED_LISTENERS=email

# ============================================
# 邮件提供商配置
# ============================================
# 邮件提供商：imap/exchange/pop3/alimail
EMAIL_PROVIDER=alimail

# ============================================
# IMAP 配置（当 EMAIL_PROVIDER=imap 时使用）
# ============================================
IMAP_HOST=imap.example.com
IMAP_PORT=993
IMAP_USER=sales@example.com
IMAP_PASS=your_password

# ============================================
# Exchange 配置（当 EMAIL_PROVIDER=exchange 时使用）
# ============================================
EXCHANGE_TENANT_ID=
EXCHANGE_CLIENT_ID=
EXCHANGE_CLIENT_SECRET=

# ============================================
# 阿里邮箱配置（当 EMAIL_PROVIDER=alimail 时使用）
# ============================================
# OAuth 2.0 凭证（从阿里邮箱管理后台获取）
ALIMAIL_CLIENT_ID=#
ALIMAIL_CLIENT_SECRET=#

# 邮箱账户
ALIMAIL_EMAIL_ACCOUNT=#

# API 基础 URL（可选，默认值）
ALIMAIL_API_BASE_URL=https://alimail-cn.aliyuncs.com

# 文件夹配置
# 常用文件夹 ID：1=发件箱, 2=收件箱, 3=垃圾箱, 5=草稿箱, 6=已删除
ALIMAIL_FOLDER_ID=2

# 轮询配置
ALIMAIL_POLL_SIZE=100

# ============================================
# 企业微信配置（当启用 wechat 监听器时使用）
# ============================================
WECHAT_CORP_ID=your_corp_id
WECHAT_CORP_SECRET=your_corp_secret
WECHAT_AGENT_ID=your_agent_id
WECHAT_WEBHOOK_URL=https://your-webhook-url

# ============================================
# 轮询配置
# ============================================
# 轮询间隔（秒）
POLL_INTERVAL_SECONDS=60

# ============================================
# Orchestrator API 配置
# ============================================
# 编排器服务地址
ORCHESTRATOR_API_URL=http://localhost:8000

# API 密钥（可选）
ORCHESTRATOR_API_KEY=

# ============================================
# 数据库配置
# ============================================
# PostgreSQL 数据库连接字符串
# 格式：postgresql://用户名:密码@主机:端口/数据库名
DB_DSN=postgresql://mcs_listener:password@localhost:5432/mcs_listener

# ============================================
# 配置说明
# ============================================
# 1. 数据库配置：
#    - 确保 PostgreSQL 数据库已创建
#    - 运行数据库迁移：alembic upgrade head
#
# 2. 邮件配置：
#    - IMAP：需要提供 IMAP 服务器地址、端口、用户名和密码
#    - 阿里邮箱：需要先在阿里邮箱管理后台创建应用，获取 client_id 和 client_secret
#
# 3. 编排器服务：
#    - 如果不需要消息转发，可以留空 ORCHESTRATOR_API_URL
#    - 如果编排器服务需要认证，填写 ORCHESTRATOR_API_KEY
